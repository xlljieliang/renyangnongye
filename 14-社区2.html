<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=375px, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>社区</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet">
<style>
:where([class^="ri-"])::before { content: "\f3c2"; }
body {
background: #f5f5f5;
width: 375px;
margin: 0 auto;
min-height: 100vh;
font-family: "SimSun", "宋体", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}
.post-card {
transition: all 0.3s ease;
}
.post-card:active {
transform: scale(0.98);
}
.like-btn.active {
color: #ff4757;
}
.like-btn.active i {
animation: likeAnimation 0.3s ease;
}
@keyframes likeAnimation {
0% { transform: scale(1); }
50% { transform: scale(1.2); }
100% { transform: scale(1); }
}
</style>
<script>
tailwind.config = {
theme: {
extend: {
colors: {
primary: '#2E5E3F',
secondary: '#E8F5E9'
},
borderRadius: {
'none': '0px',
'sm': '4px',
DEFAULT: '8px',
'md': '12px',
'lg': '16px',
'xl': '20px',
'2xl': '24px',
'3xl': '32px',
'full': '9999px',
'button': '8px'
}
}
}
}
</script>
</head>
<body class="relative">
<header class="fixed top-0 left-0 right-0 z-50 bg-white shadow-sm" style="width: 375px; margin: 0 auto;">
<div class="flex items-center justify-between px-4 h-12">
<button class="w-8 h-8 flex items-center justify-center" onclick="history.back()">
    <i class="ri-arrow-left-s-line text-xl"></i>
</button>
<h1 class="text-base font-medium">社区</h1>
<button class="w-8 h-8 flex items-center justify-center">
<i class="ri-more-line text-xl"></i>
</button>
</div>
<div class="flex px-4 py-2 border-b border-gray-100">
<button onclick="window.location.href='10.3-社区1.html'" class="flex-1 py-1.5 text-sm text-gray-500 hover:text-primary transition-colors">认养日志</button>
<button class="flex-1 py-1.5 text-sm text-primary border-b-2 border-primary font-medium">我的部落</button>
</div>
</header>
<main class="pt-24 pb-20 px-4 space-y-4">
<div class="post-card bg-white rounded-lg shadow-sm p-4">
<div class="flex items-center mb-3">
<img src="https://public.readdy.ai/ai/img_res/8af2ef4ef9ea035829359cc368fad686.jpg" class="w-10 h-10 rounded-full object-cover cursor-pointer" alt="头像" onclick="showUserProfile(this)">
<div class="ml-3">
<h3 class="text-sm font-medium">绿色农场主</h3>
<p class="text-xs text-gray-400">2025-02-22 07:20</p>
</div>
</div>
<p class="text-sm text-gray-700 mb-3">今天的小番茄长势喜人，已经开始结果了！感谢大家的建议和支持，让我的阳台小菜园茁壮成长 🍅</p>
<img src="https://public.readdy.ai/ai/img_res/7a2f5872270f70890759fdbc30857306.jpg" class="w-full h-48 rounded-lg object-cover mb-3 cursor-pointer" alt="番茄" onclick="showFullImage(this.src)">
<div class="flex items-center justify-between text-gray-400 text-sm">
<button class="like-btn flex items-center space-x-1" onclick="this.classList.toggle('active')">
<i class="ri-heart-line"></i>
<span>258</span>
</button>
<button class="flex items-center space-x-1" onclick="toggleComments(this)">
<i class="ri-message-2-line"></i>
<span>36</span>
</button>
<div class="comments-section hidden mt-3 pt-3 border-t border-gray-100">
<div class="space-y-3 mb-3">
<div class="flex items-start space-x-2">
<img src="https://public.readdy.ai/ai/img_res/b0f9dfe11929ac4204d6912f237f305f.jpg" class="w-8 h-8 rounded-full" alt="评论头像">
<div class="flex-1">
<div class="bg-gray-50 rounded-lg p-2">
<h4 class="text-xs font-medium">Sarah Chen</h4>
<p class="text-xs text-gray-600">番茄长得真好，请问是什么品种呢？</p>
</div>
<div class="flex items-center mt-1 text-xs text-gray-400">
<span>2025-02-22 08:30</span>
<button class="ml-3 hover:text-gray-600">回复</button>
</div>
</div>
</div>
<div class="flex items-start space-x-2">
<img src="https://public.readdy.ai/ai/img_res/1bd62cbc003b78734cac7edd4f78382b.jpg" class="w-8 h-8 rounded-full" alt="评论头像">
<div class="flex-1">
<div class="bg-gray-50 rounded-lg p-2">
<h4 class="text-xs font-medium">David Wang</h4>
<p class="text-xs text-gray-600">看起来非常健康，期待收获的那一天！</p>
</div>
<div class="flex items-center mt-1 text-xs text-gray-400">
<span>2025-02-22 09:15</span>
<button class="ml-3 hover:text-gray-600">回复</button>
</div>
</div>
</div>
</div>
<div class="flex items-center space-x-2">
<input type="text" placeholder="写下你的评论..." class="flex-1 text-sm px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary">
<button class="px-4 py-2 bg-primary text-white text-sm rounded-lg hover:bg-opacity-90 transition-colors">发送</button>
</div>
</div>
<button class="flex items-center space-x-1" onclick="toggleShare(this)">
<i class="ri-share-line"></i>
<span>分享</span>
</button>
</div>
</div>
<div class="post-card bg-white rounded-lg shadow-sm p-4">
<div class="flex items-center mb-3">
<img src="https://public.readdy.ai/ai/img_res/ff2501b416eec9d5222f4316883ac502.jpg" class="w-10 h-10 rounded-full object-cover" alt="头像">
<div class="ml-3">
<h3 class="text-sm font-medium">有机农场</h3>
<p class="text-xs text-gray-400">2025-02-22 07:15</p>
</div>
</div>
<p class="text-sm text-gray-700 mb-3">新一批有机蔬菜已经开始配送啦！每一份都是精心培育的成果，希望能带给大家健康美味的体验 🥬</p>
<img src="https://public.readdy.ai/ai/img_res/727b5c7b720be68a2eb4110f2b9d9ca3.jpg" class="w-full h-48 rounded-lg object-cover mb-3 cursor-pointer" alt="有机蔬菜" onclick="showFullImage(this.src)">
<div class="flex items-center justify-between text-gray-400 text-sm">
<button class="like-btn flex items-center space-x-1" onclick="this.classList.toggle('active')">
<i class="ri-heart-line"></i>
<span>186</span>
</button>
<button class="flex items-center space-x-1">
<i class="ri-message-2-line"></i>
<span>42</span>
</button>
<button class="flex items-center space-x-1" onclick="toggleShare(this)">
<i class="ri-share-line"></i>
<span>分享</span>
</button>
</div>
</div>
</main>
<button onclick="showPublishModal()" class="fixed bottom-6 right-6 w-14 h-14 bg-primary text-white rounded-full shadow-lg flex items-center justify-center hover:bg-opacity-90 transition-opacity">
<i class="ri-add-line text-2xl"></i>
</button>
<div id="publishModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center">
<div class="bg-white rounded-lg p-4 w-[340px]" onclick="event.stopPropagation()">
<div class="flex justify-between items-center mb-4">
<h3 class="text-lg font-medium">发布内容</h3>
<button onclick="document.getElementById('publishModal').classList.add('hidden')" class="w-8 h-8 flex items-center justify-center">
<i class="ri-close-line text-xl"></i>
</button>
</div>
<textarea id="postContent" class="w-full h-32 p-3 border border-gray-200 rounded-lg resize-none text-sm focus:outline-none focus:border-primary" placeholder="分享你的种植心得..."></textarea>
<div class="mt-4 flex items-center space-x-2">
<button onclick="triggerImageUpload()" class="w-8 h-8 flex items-center justify-center text-gray-500 hover:text-primary">
<i class="ri-image-line text-xl"></i>
</button>
<input type="file" id="imageUpload" class="hidden" accept="image/*" onchange="handleImageUpload(event)">
<div id="imagePreview" class="hidden w-20 h-20 relative rounded-lg overflow-hidden">
<img src="" class="w-full h-full object-cover">
<button onclick="removeUploadedImage()" class="absolute top-1 right-1 w-5 h-5 bg-black bg-opacity-50 rounded-full flex items-center justify-center text-white">
<i class="ri-close-line text-sm"></i>
</button>
</div>
</div>
<button onclick="publishPost()" class="mt-4 w-full py-2 bg-primary text-white rounded-lg hover:bg-opacity-90 transition-colors">
发布
</button>
</div>
</div>
<div id="imageModal" class="fixed inset-0 bg-black bg-opacity-90 hidden z-50 flex items-center justify-center" onclick="this.classList.add('hidden')">
<img id="fullImage" class="max-w-full max-h-full object-contain" src="" alt="全屏图片">
</div>

<div id="userProfileModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center" onclick="this.classList.add('hidden')">
<div class="bg-white rounded-lg w-[340px] overflow-hidden" onclick="event.stopPropagation()">
<div class="relative h-32">
<img src="https://public.readdy.ai/ai/img_res/a28983b405345656b1755c81e63a7a21.jpg" class="w-full h-full object-cover" alt="背景图">
<button onclick="document.getElementById('userProfileModal').classList.add('hidden')" class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center bg-black bg-opacity-30 rounded-full text-white">
<i class="ri-close-line"></i>
</button>
</div>
<div class="px-4 pb-6">
<div class="flex items-end -mt-8">
<img id="profileAvatar" src="" class="w-16 h-16 rounded-full border-4 border-white object-cover" alt="用户头像">
<div class="ml-4 mb-2">
<h3 id="profileName" class="text-lg font-medium"></h3>
<p class="text-sm text-gray-500">ID: <span id="profileId"></span></p>
</div>
</div>
<div class="mt-6 flex items-center justify-around text-center">
<div>
<p class="text-xl font-medium">128</p>
<p class="text-sm text-gray-500">关注</p>
</div>
<div>
<p class="text-xl font-medium">3.2k</p>
<p class="text-sm text-gray-500">粉丝</p>
</div>
<div>
<p class="text-xl font-medium">256</p>
<p class="text-sm text-gray-500">获赞</p>
</div>
</div>
<div class="mt-6">
<h4 class="text-sm font-medium mb-2">个人简介</h4>
<p id="profileBio" class="text-sm text-gray-600"></p>
</div>
<button class="mt-6 w-full py-2 bg-primary text-white rounded-lg hover:bg-opacity-90 transition-colors">
关注
</button>
</div>
</div>
</div>
<div id="shareModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center" onclick="this.classList.add('hidden')">
<div class="bg-white rounded-lg p-4 w-80" onclick="event.stopPropagation()">
<div class="flex justify-between items-center mb-4">
<h3 class="text-lg font-medium">分享链接</h3>
<button onclick="document.getElementById('shareModal').classList.add('hidden')" class="w-8 h-8 flex items-center justify-center">
<i class="ri-close-line text-xl"></i>
</button>
</div>
<div class="bg-gray-50 p-3 rounded-lg mb-4">
<p id="shareLink" class="text-sm text-gray-600 break-all"></p>
</div>
<button onclick="copyShareLink()" class="w-full py-2 bg-primary text-white rounded-lg hover:bg-opacity-90 transition-colors">
复制链接
</button>
</div>
</div>
<script>
function showPublishModal() {
document.getElementById('publishModal').classList.remove('hidden');
}
function triggerImageUpload() {
document.getElementById('imageUpload').click();
}
function handleImageUpload(event) {
const file = event.target.files[0];
if (file) {
const reader = new FileReader();
reader.onload = function(e) {
const preview = document.getElementById('imagePreview');
preview.querySelector('img').src = e.target.result;
preview.classList.remove('hidden');
};
reader.readAsDataURL(file);
}
}
function removeUploadedImage() {
const preview = document.getElementById('imagePreview');
preview.classList.add('hidden');
preview.querySelector('img').src = '';
document.getElementById('imageUpload').value = '';
}
function publishPost() {
const content = document.getElementById('postContent').value.trim();
const imagePreview = document.getElementById('imagePreview');
const imageSrc = imagePreview.querySelector('img').src;
if (!content && !imageSrc) {
return;
}
const main = document.querySelector('main');
const newPost = document.createElement('div');
newPost.className = 'post-card bg-white rounded-lg shadow-sm p-4';
newPost.innerHTML = `
<div class="flex items-center justify-between mb-3">
<div class="flex items-center">
<img src="https://public.readdy.ai/ai/img_res/2f4ba01a4639433be7a5543af7b4ea3b.jpg" class="w-10 h-10 rounded-full object-cover" alt="头像">
<div class="ml-3">
<h3 class="text-sm font-medium">我</h3>
<p class="text-xs text-gray-400">刚刚</p>
</div>
</div>
<button onclick="deletePost(this)" class="w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600">
<i class="ri-delete-bin-line"></i>
</button>
</div>
<p class="text-sm text-gray-700 mb-3">${content}</p>
${imageSrc ? `<img src="${imageSrc}" class="w-full h-48 rounded-lg object-cover mb-3 cursor-pointer" alt="上传图片" onclick="showFullImage(this.src)">` : ''}
<div class="flex items-center justify-between text-gray-400 text-sm">
<button class="like-btn flex items-center space-x-1" onclick="this.classList.toggle('active')">
<i class="ri-heart-line"></i>
<span>0</span>
</button>
<button class="flex items-center space-x-1" onclick="toggleComments(this)">
<i class="ri-message-2-line"></i>
<span>0</span>
</button>
<button class="flex items-center space-x-1" onclick="toggleShare(this)">
<i class="ri-share-line"></i>
<span>分享</span>
</button>
</div>
`;
main.insertBefore(newPost, main.firstChild);
document.getElementById('publishModal').classList.add('hidden');
document.getElementById('postContent').value = '';
removeUploadedImage();
}
function showFullImage(src) {
document.getElementById('fullImage').src = src;
document.getElementById('imageModal').classList.remove('hidden');
}
function toggleComments(button) {
const commentsSection = button.nextElementSibling;
commentsSection.classList.toggle('hidden');
}
function replyToComment(button) {
const commentAuthor = button.closest('.flex-1').querySelector('h4').textContent;
const input = button.closest('.comments-section').querySelector('input');
input.placeholder = `回复 ${commentAuthor}：`;
input.dataset.replyTo = commentAuthor;
input.focus();
}
function toggleShare(button) {
const shareModal = document.getElementById('shareModal');
const shareLinkElement = document.getElementById('shareLink');
const randomId = Math.random().toString(36).substring(2, 15);
const shareLink = `https://community.example.com/post/${randomId}`;
shareLinkElement.textContent = shareLink;
shareModal.classList.remove('hidden');
}
function copyShareLink() {
const shareLink = document.getElementById('shareLink').textContent;
navigator.clipboard.writeText(shareLink).then(() => {
const copyButton = document.querySelector('#shareModal button:last-child');
const originalText = copyButton.textContent;
copyButton.textContent = '已复制';
setTimeout(() => {
copyButton.textContent = originalText;
}, 2000);
});
}
function deletePost(button) {
if (confirm('确定要删除这条内容吗？')) {
const postCard = button.closest('.post-card');
postCard.remove();
}
}
function deleteComment(button) {
if (confirm('确定要删除这条评论吗？')) {
const comment = button.closest('.flex.items-start.space-x-2');
comment.remove();
}
}

function showUserProfile(img) {
const profileModal = document.getElementById('userProfileModal');
const profileAvatar = document.getElementById('profileAvatar');
const profileName = document.getElementById('profileName');
const profileId = document.getElementById('profileId');
const profileBio = document.getElementById('profileBio');

profileAvatar.src = img.src;
profileName.textContent = img.closest('.flex').querySelector('h3').textContent;
profileId.textContent = Math.random().toString(36).substring(2, 10).toUpperCase();
profileBio.textContent = "热爱自然，热爱生活。在这里分享我的种植心得和收获的喜悦。让我们一起感受绿色带来的美好！";

profileModal.classList.remove('hidden');
}
function submitComment(button) {
const input = button.previousElementSibling;
const commentText = input.value.trim();
const replyTo = input.dataset.replyTo;
if (!commentText) return;
const commentsContainer = button.closest('.comments-section').querySelector('.space-y-3');
const newComment = document.createElement('div');
newComment.className = 'flex items-start space-x-2';
newComment.innerHTML = `
<img src="https://public.readdy.ai/ai/img_res/82670e0c2633a36125c5b5690d0c20b2.jpg" class="w-8 h-8 rounded-full" alt="评论头像">
<div class="flex-1">
<div class="bg-gray-50 rounded-lg p-2">
<h4 class="text-xs font-medium">我</h4>
<p class="text-xs text-gray-600">${replyTo ? `@${replyTo} ` : ''}${commentText}</p>
</div>
<div class="flex items-center mt-1 text-xs text-gray-400">
<span>刚刚</span>
<button class="ml-3 hover:text-gray-600" onclick="replyToComment(this)">回复</button>
<button class="ml-3 hover:text-gray-600" onclick="deleteComment(this)">删除</button>
</div>
</div>
`;
commentsContainer.appendChild(newComment);
input.value = '';
input.placeholder = '写下你的评论...';
input.dataset.replyTo = '';
}
</script>
</body>
</html>
